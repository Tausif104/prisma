{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/tausif/Desktop/dev/prisma/client/actions/user.actions.js"],"sourcesContent":["'use server'\n\nimport { revalidatePath } from 'next/cache'\nimport { headers } from 'next/headers'\nimport { redirect } from 'next/navigation'\n\n// get users\nexport const getUsers = async () => {\n  const data = await fetch(`${process.env.API_URL}/api/users`)\n  const users = await data.json()\n  return {\n    users,\n  }\n}\n\n// create user\nexport const createUser = async (formData) => {\n  const name = formData.get('name')\n  const email = formData.get('email')\n\n  const data = {\n    name,\n    email,\n  }\n\n  const res = await fetch(`${process.env.API_URL}/api/users`, {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json',\n    },\n    body: JSON.stringify(data),\n  })\n\n  const user = await res.json()\n\n  if (user) {\n    revalidatePath('/')\n    redirect('/')\n  }\n}\n\n// get user details\nexport const getUserDetails = async (id) => {\n  const res = await fetch(`${process.env.API_URL}/api/users/${id}`)\n  const user = await res.json()\n\n  return {\n    user,\n  }\n}\n\n// delete user\nexport const deleteUser = async (id) => {\n  const res = await fetch(`${process.env.API_URL}/api/users/${id}`, {\n    method: 'DELETE',\n    headers: {\n      'Content-type': 'application/json',\n    },\n  })\n\n  const data = res.json()\n\n  if (data) {\n    revalidatePath('/')\n  }\n}\n\n// update user\nexport const updateUser = async (prevState, formData) => {\n  const id = formData.get('userId')\n  const name = formData.get('name')\n  const email = formData.get('email')\n\n  const data = {\n    name,\n    email,\n  }\n\n  const res = await fetch(`${process.env.API_URL}/api/users/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-type': 'application/json',\n    },\n    body: JSON.stringify(data),\n  })\n\n  const user = await res.json()\n\n  if (user) {\n    revalidatePath(`/${id}/edit`)\n    return {\n      success: true,\n      msg: 'User updated successfully',\n    }\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAoEa,aAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/tausif/Desktop/dev/prisma/client/app/%28root%29/%5Bid%5D/edit/edit-form.jsx"],"sourcesContent":["'use client'\n\nimport { useState, useActionState, useEffect } from 'react'\nimport { Button, Snackbar, TextField } from '@mui/material'\nimport { updateUser } from '@/actions/user.actions'\n\nconst EditUserForm = ({ user }) => {\n  const [name, setName] = useState(user.name)\n  const [email, setEmail] = useState(user.email)\n  const [open, setOpen] = useState(false)\n\n  const initialState = {\n    success: false,\n    msg: '',\n  }\n\n  const [state, action, loading] = useActionState(updateUser, initialState)\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return\n    }\n    setOpen(false)\n  }\n\n  useEffect(() => {\n    if (state.msg) {\n      setOpen(true)\n      state.success = false\n    }\n  }, [state.success])\n\n  return (\n    <form action={action} className='form-wrapper'>\n      <input type='hidden' name='userId' value={user.id} />\n      <TextField\n        name='name'\n        label='Name'\n        variant='outlined'\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n      />\n      <TextField\n        name='email'\n        label='Email'\n        variant='outlined'\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n      <Button\n        loading={loading ? true : false}\n        type='submit'\n        variant='contained'\n      >\n        Update\n      </Button>\n\n      <Snackbar\n        open={open}\n        autoHideDuration={2000}\n        onClose={handleClose}\n        message={state.msg}\n      />\n    </form>\n  )\n}\n\nexport default EditUserForm\n"],"names":["useState","useActionState","useEffect","Button","Snackbar","TextField","updateUser","EditUserForm","user","name","setName","email","setEmail","open","setOpen","initialState","success","msg","state","action","loading","handleClose","event","reason","id","e","target","value"],"mappings":";;;;;AAEA,SAASA,QAAQ,EAAEC,cAAc,EAAEC,SAAS,QAAQ,OAAO;AAC3D,SAASC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,eAAe;;;AAC3D,SAASC,UAAU,QAAQ,wBAAwB;;;AAJnD,YAAY;;;;AAMZ,qBAAqBC,CAAC,EAAEC,IAAAA,EAAM,KAAK;;IACjC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,OAAGV,yKAAQ,EAACQ,IAAI,CAACC,IAAI,CAAC;IAC3C,MAAM,CAACE,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,6KAAQ,EAACQ,IAAI,CAACG,KAAK,CAAC;IAC9C,MAAM,CAACE,IAAI,EAAEC,OAAO,CAAC,OAAGd,yKAAQ,EAAC,KAAK,CAAC;IAEvC,MAAMe,YAAY,GAAG;QACnBC,OAAO,EAAE,KAAK;QACdC,GAAG,EAAE;IACP,CAAC;IAED,MAAM,CAACC,KAAK,EAAEC,MAAM,EAAEC,OAAO,CAAC,sLAAiB,EAACd,gKAAU,EAAES,YAAY,CAAC;IAEzE,MAAMM,WAAW,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;QACrC,IAAIA,MAAM,KAAK,WAAW,EAAE;YAC1B;QACF;QACAT,OAAO,CAAC,KAAK,CAAC;IAChB,CAAC;QAEDZ,0KAAS;kCAAC,MAAM;YACd,IAAIgB,KAAK,CAACD,GAAG,EAAE;gBACbH,OAAO,CAAC,IAAI,CAAC;gBACbI,KAAK,CAACF,OAAO,GAAG,KAAK;YACvB;QACF,CAAC;iCAAE;QAACE,KAAK,CAACF,OAAO;KAAC,CAAC;IAEnB,qBACE,6LAAC,IAAI;QAAC,MAAM,CAAC,CAACG,MAAM,CAAC;QAAC,SAAS,EAAC,cAAc;;0BAC5C,6LAAC,KAAK;gBAAC,IAAI,EAAC,QAAQ;gBAAC,IAAI,EAAC,QAAQ;gBAAC,KAAK,CAAC,CAACX,IAAI,CAACgB,EAAE,CAAC;;;;;;0BAClD,6LAAC,0NAAS;gBACR,IAAI,EAAC,MAAM;gBACX,KAAK,EAAC,MAAM;gBACZ,OAAO,EAAC,UAAU;gBAClB,KAAK,CAAC,CAACf,IAAI,CAAC;gBACZ,QAAQ,CAAC,CAAEgB,CAAC,IAAKf,OAAO,CAACe,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC;;;;;;0BAE3C,6LAAC,0NAAS;gBACR,IAAI,EAAC,OAAO;gBACZ,KAAK,EAAC,OAAO;gBACb,OAAO,EAAC,UAAU;gBAClB,KAAK,CAAC,CAAChB,KAAK,CAAC;gBACb,QAAQ,CAAC,EAAEc,GAAC,GAAKb,QAAQ,CAACa,GAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC;;;;;;0BAE5C,6LAAC,8MAAM;gBACL,OAAO,CAAC,CAACP,OAAO,GAAG,IAAI,GAAG,KAAK,CAAC;gBAChC,IAAI,EAAC,QAAQ;gBACb,OAAO,EAAC,WAAW;0BAAA;;;;;;0BAKrB,6LAAC,sNAAQ;gBACP,IAAI,CAAC,CAACP,IAAI,CAAC;gBACX,gBAAgB,CAAC,CAAC,IAAI,CAAC;gBACvB,OAAO,CAAC,CAACQ,WAAW,CAAC;gBACrB,OAAO,CAAC,CAACH,KAAK,CAACD,GAAG,CAAC;;;;;;;;;;;;AAI3B,CAAC;;;QAjDkChB;;;KAV7BM,YAAY;uCA6DHA,YAAY","ignoreList":[],"debugId":null}}]
}